
<svg xmlns="http://www.w3.org/2000/svg" class="d-none">
    <symbol id="account" viewBox="0 -960 960 960">
        <path d="M226-262q59-39.67 121-60.83Q409-344 480-344t133.33 21.17q62.34 21.16 121.34 60.83 41-49.67 59.83-103.67T813.33-480q0-141-96.16-237.17Q621-813.33 480-813.33t-237.17 96.16Q146.67-621 146.67-480q0 60.33 19.16 114.33Q185-311.67 226-262Zm253.88-184.67q-58.21 0-98.05-39.95Q342-526.58 342-584.79t39.96-98.04q39.95-39.84 98.16-39.84 58.21 0 98.05 39.96Q618-642.75 618-584.54t-39.96 98.04q-39.95 39.83-98.16 39.83ZM479.73-80q-83.1 0-156.18-31.5-73.09-31.5-127.15-85.83-54.07-54.34-85.23-127.23Q80-397.45 80-480.33q0-82.88 31.5-155.78Q143-709 197.33-763q54.34-54 127.23-85.5T480.33-880q82.88 0 155.78 31.5Q709-817 763-763t85.5 127Q880-563 880-480.18q0 82.83-31.5 155.67Q817-251.67 763-197.33 709-143 635.91-111.5 562.83-80 479.73-80Z"/>
    </symbol>
    <symbol id="login" viewBox="0 -960 960 960">
        <path d="M226-262q59-42.33 121.33-65.5 62.34-23.17 132.67-23.17 70.33 0 133 23.17T734.67-262q41-49.67 59.83-103.67T813.33-480q0-141-96.16-237.17Q621-813.33 480-813.33t-237.17 96.16Q146.67-621 146.67-480q0 60.33 19.16 114.33Q185-311.67 226-262Zm253.88-184.67q-58.21 0-98.05-39.95Q342-526.58 342-584.79t39.96-98.04q39.95-39.84 98.16-39.84 58.21 0 98.05 39.96Q618-642.75 618-584.54t-39.96 98.04q-39.95 39.83-98.16 39.83ZM480.31-80q-82.64 0-155.64-31.5-73-31.5-127.34-85.83Q143-251.67 111.5-324.51T80-480.18q0-82.82 31.5-155.49 31.5-72.66 85.83-127Q251.67-817 324.51-848.5T480.18-880q82.82 0 155.49 31.5 72.66 31.5 127 85.83Q817-708.33 848.5-635.65 880-562.96 880-480.31q0 82.64-31.5 155.64-31.5 73-85.83 127.34Q708.33-143 635.65-111.5 562.96-80 480.31-80Zm-.31-66.67q54.33 0 105-15.83t97.67-52.17q-47-33.66-98-51.5Q533.67-284 480-284t-104.67 17.83q-51 17.84-98 51.5 47 36.34 97.67 52.17 50.67 15.83 105 15.83Zm0-366.66q31.33 0 51.33-20t20-51.34q0-31.33-20-51.33T480-656q-31.33 0-51.33 20t-20 51.33q0 31.34 20 51.34 20 20 51.33 20Zm0-71.34Zm0 369.34Z"/>
    </symbol>
    <symbol id="light" viewBox="0 -960 960 960">
        <path d="M480-346.67q55.33 0 94.33-39t39-94.33q0-55.33-39-94.33t-94.33-39q-55.33 0-94.33 39t-39 94.33q0 55.33 39 94.33t94.33 39Zm0 66.67q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-446.67H40v-66.66h160v66.66Zm720 0H760v-66.66h160v66.66ZM446.67-760v-160h66.66v160h-66.66Zm0 720v-160h66.66v160h-66.66ZM260-655.33l-100.33-97 47.66-49 96 100-43.33 46Zm493.33 496-97.66-100.34 45-45.66 99.66 97.66-47 48.34Zm-98.66-541.34 97.66-99.66 49 47L702-656l-47.33-44.67ZM159.33-207.33 259-305l46.33 45.67-97.66 99.66-48.34-47.66ZM480-480Z"/>
    </symbol>
    <symbol id="dark" viewBox="0 -960 960 960">
        <path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q10 0 20.5.67 10.5.66 24.17 2-37.67 31-59.17 77.83T444-660q0 90 63 153t153 63q53 0 99.67-20.5 46.66-20.5 77.66-56.17 1.34 12.34 2 21.84.67 9.5.67 18.83 0 150-105 255T480-120Z"/>
    </symbol>
    <symbol id="auto" viewBox="0 -960 960 960">
        <path d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm26.67-67.67q131-11.66 218.83-105.5Q813.33-347 813.33-480T725.5-706.83q-87.83-93.84-218.83-105.5v664.66Z"/>
    </symbol>
</svg>

<nav class="navbar navbar-expand-sm " aria-label="Navigation bar">
    <div class="container-fluid mb-3">
        <a class="navbar-brand" href="#">
            <img src="pinistudios_200.png" alt="Pini Studios" height="50">
        </a>
        <button class="navbar-toggler border border-0" type="button" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon" (click)="collapsed.set(!collapsed())"></span>
        </button>


        <!-- Centered-->
        <div class="navbar-collapse" [class.collapse]="collapsed()" (click)="collapsed.set(true)">
            <ul class="navbar-nav d-flex mx-sm-auto p-2">
                <li class="nav-item px-2 ms-sm-auto">
                    <a class="nav-link" role="button" routerLink="/home" routerLinkActive="active"
                    >Home</a>
                </li>
                @if (store.authUser()?.authType === 'admin') {
                    <li class="nav-item px-2">
                        <a class="nav-link" role="button" routerLink="/customers" routerLinkActive="active"
                        >Kunden</a>
                    </li>
                }
                @if (store.authUser()) {
                    <li class="nav-item px-2">
                        <a class="nav-link" role="button" routerLink="/projects" routerLinkActive="active"
                        >Projekte</a>
                    </li>
                }
                @if (store.authUser()?.authType === 'admin') {
                    <li class="nav-item px-2">
                        <a class="nav-link" role="button" routerLink="/dashboard" routerLinkActive="active"
                        >Dashboard</a>
                    </li>
                }
            </ul>
        </div>

        <div class="navbar-expand navbar-nav d-flex flex-row ms-auto">
            @if (store.activeUser()) {
                <a class="nav-item nav-link mx-1" role="button" aria-label="Kundenkonto" routerLink="/account" routerLinkActive="active">
                    <svg class="icon" ngbTooltip="Kundenkonto"><use href="#account"></use></svg>
                </a>
            } @else {
                <button class="nav-item nav-link mx-1" role="button" aria-label="Login" (click)="onSignIn()">
                    <svg class="icon" ngbTooltip="Login"><use href="#login"></use></svg>
                </button>
            }

            <div ngbDropdown class="d-inline-block">
                <button type="button" aria-label="Theme Auswahl" ngbDropdownToggle class="btn nav-item nav-link mx-1">
                    <svg class="icon"><use [attr.href]="'#' + theme()"></use></svg>
                </button>
                <div ngbDropdownMenu class="dropdown-menu-end position-absolute">
                    <button ngbDropdownItem aria-label="Hell" (click)="setTheme('light')"><svg class="icon icon-small"><use href="#light"></use></svg>Heller Modus</button>
                    <button ngbDropdownItem aria-label="Dunkel" (click)="setTheme('dark')"><svg class="icon icon-small"><use href="#dark"></use></svg>Dunkler Modus</button>
                    <button ngbDropdownItem aria-label="Auto" (click)="setTheme('auto')"><svg class="icon icon-small"><use href="#auto"></use></svg>Automatisch</button>
                </div>
            </div>

        </div>

    </div>
</nav>

